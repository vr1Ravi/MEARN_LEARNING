import{u as p,b as C,c as A,r as a,j as t,T as N,B as T,d as D,g as I}from"./index-CAmnAAlW.js";import{ProjectCard as L}from"./Project-Cm3veTD4.js";const _=()=>{const{error:c,message:i}=p(e=>e.update),{user:l}=p(e=>e.user),{message:o}=p(e=>e.login),s=C(),n=A(),[d,x]=a.useState(""),[u,g]=a.useState(""),[j,S]=a.useState(""),[h,v]=a.useState(""),[m,f]=a.useState(""),y=async e=>{e.preventDefault(),s(D(u,d,j,h,m)),s(I())},E=e=>{const R=e.target.files[0],r=new FileReader;r.readAsDataURL(R),r.onload=()=>{r.readyState===2&&S(r.result)}};return a.useEffect(()=>{i&&(n.success(i),s({type:"CLEAR_MESSAGE"})),c&&(n.error(c),s({type:"CLEAR_ERRORS"})),o&&(n.success(o),s({type:"CLEAR_MESSAGE"}))},[s,n,o,c,i]),t.jsx("div",{className:"adminContainer",children:t.jsxs("div",{className:"adminBox",children:[t.jsxs(N,{variant:"h4",children:[t.jsx("p",{children:"M"}),t.jsx("p",{style:{marginRight:"1vmax"},children:"E"}),t.jsx("p",{children:"O"}),t.jsx("p",{children:"N"}),t.jsx("p",{children:"L"}),t.jsx("p",{children:"Y"})]}),t.jsxs("form",{onSubmit:y,children:[t.jsx("input",{className:"adminInputs",type:"text",placeholder:"Title",value:u,onChange:e=>{g(e.target.value)}}),t.jsx("input",{className:"adminInputs",type:"text",placeholder:"URL",value:d,onChange:e=>{x(e.target.value)}}),t.jsx("input",{className:"adminInputs",type:"text",placeholder:"Description",value:h,onChange:e=>{v(e.target.value)}}),t.jsx("input",{className:"adminInputs",type:"text",placeholder:"TechStack",value:m,onChange:e=>{f(e.target.value)}}),t.jsx("input",{className:"adminFileUpload",type:"file",accept:"image/*",onChange:E}),t.jsx(T,{type:"submit",variant:"contained",children:"ADD"}),t.jsx("div",{className:"adminPanelTimeline ",children:l&&l.projects&&l.projects.map(e=>t.jsx(L,{id:e._id,url:e.url,projectImage:e.image.url,projectTitle:e.title,description:e.description,technologies:e.techStack,isAdmin:!0},e._id))})]})]})})};export{_ as default};
